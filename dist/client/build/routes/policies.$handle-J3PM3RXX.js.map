{
  "version": 3,
  "sources": ["../../../../app/routes/policies.$handle.tsx"],
  "sourcesContent": ["import {json, type LoaderFunctionArgs} from '@shopify/remix-oxygen';\nimport {Link, useLoaderData, type MetaFunction} from '@remix-run/react';\nimport {type Shop} from '@shopify/hydrogen/storefront-api-types';\n\ntype SelectedPolicies = keyof Pick<\n  Shop,\n  'privacyPolicy' | 'shippingPolicy' | 'termsOfService' | 'refundPolicy'\n>;\n\nexport const meta: MetaFunction<typeof loader> = ({data}) => {\n  return [{title: `Hydrogen | ${data?.policy.title ?? ''}`}];\n};\n\nexport async function loader({params, context}: LoaderFunctionArgs) {\n  if (!params.handle) {\n    throw new Response('No handle was passed in', {status: 404});\n  }\n\n  const policyName = params.handle.replace(\n    /-([a-z])/g,\n    (_: unknown, m1: string) => m1.toUpperCase(),\n  ) as SelectedPolicies;\n\n  const data = await context.storefront.query(POLICY_CONTENT_QUERY, {\n    variables: {\n      privacyPolicy: false,\n      shippingPolicy: false,\n      termsOfService: false,\n      refundPolicy: false,\n      [policyName]: true,\n      language: context.storefront.i18n?.language,\n    },\n  });\n\n  const policy = data.shop?.[policyName];\n\n  if (!policy) {\n    throw new Response('Could not find the policy', {status: 404});\n  }\n\n  return json({policy});\n}\n\nexport default function Policy() {\n  const {policy} = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"policy\">\n      <br />\n      <br />\n      <div>\n        <Link to=\"/policies\">\u2190 Back to Policies</Link>\n      </div>\n      <br />\n      <h1>{policy.title}</h1>\n      <div dangerouslySetInnerHTML={{__html: policy.body}} />\n    </div>\n  );\n}\n\n// NOTE: https://shopify.dev/docs/api/storefront/latest/objects/Shop\nconst POLICY_CONTENT_QUERY = `#graphql\n  fragment Policy on ShopPolicy {\n    body\n    handle\n    id\n    title\n    url\n  }\n  query Policy(\n    $country: CountryCode\n    $language: LanguageCode\n    $privacyPolicy: Boolean!\n    $refundPolicy: Boolean!\n    $shippingPolicy: Boolean!\n    $termsOfService: Boolean!\n  ) @inContext(language: $language, country: $country) {\n    shop {\n      privacyPolicy @include(if: $privacyPolicy) {\n        ...Policy\n      }\n      shippingPolicy @include(if: $shippingPolicy) {\n        ...Policy\n      }\n      termsOfService @include(if: $termsOfService) {\n        ...Policy\n      }\n      refundPolicy @include(if: $refundPolicy) {\n        ...Policy\n      }\n    }\n  }\n` as const;\n"],
  "mappings": "iVACAA,IA8CI,IAAAC,EAAA,OAtCSC,EAAoC,CAAC,CAAC,KAAAC,CAAI,IAC9C,CAAC,CAAC,MAAO,cAAcA,GAAM,OAAO,OAAS,IAAI,CAAC,EAiC5C,SAARC,GAA0B,CAC/B,GAAM,CAAC,OAAAC,CAAM,EAAIC,EAA6B,EAE9C,SACE,QAAC,OAAI,UAAU,SACb,oBAAC,OAAG,KACJ,OAAC,OAAG,KACJ,OAAC,OACC,mBAACC,EAAA,CAAK,GAAG,YAAY,mCAAkB,EACzC,KACA,OAAC,OAAG,KACJ,OAAC,MAAI,SAAAF,EAAO,MAAM,KAClB,OAAC,OAAI,wBAAyB,CAAC,OAAQA,EAAO,IAAI,EAAG,GACvD,CAEJ",
  "names": ["init_esm", "import_jsx_runtime", "meta", "data", "Policy", "policy", "useLoaderData", "Link"]
}
