import{e as i,g as n,j as l,u,z as y}from"https://cdn.shopify.com/oxygen-v2/31356/19637/40579/683287/build/_shared/chunk-3T2GPJBB.js";import{b as m}from"https://cdn.shopify.com/oxygen-v2/31356/19637/40579/683287/build/_shared/chunk-YHLO7HBR.js";import{d as o}from"https://cdn.shopify.com/oxygen-v2/31356/19637/40579/683287/build/_shared/chunk-2GVARK7B.js";y();var e=o(m()),g=()=>[{title:"Addresses"}];function c(){let{customer:t}=i(),{defaultAddress:r,addresses:s}=t;return(0,e.jsxs)("div",{className:"account-addresses",children:[(0,e.jsx)("h2",{children:"Addresses"}),(0,e.jsx)("br",{}),s.nodes.length?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("legend",{children:"Create address"}),(0,e.jsx)(b,{})]}),(0,e.jsx)("br",{}),(0,e.jsx)("hr",{}),(0,e.jsx)("br",{}),(0,e.jsx)(w,{addresses:s,defaultAddress:r})]}):(0,e.jsx)("p",{children:"You have no addresses saved."})]})}function b(){return(0,e.jsx)(p,{addressId:"NEW_ADDRESS_ID",address:{address1:"",address2:"",city:"",company:"",territoryCode:"",firstName:"",id:"new",lastName:"",phoneNumber:"",zoneCode:"",zip:""},defaultAddress:null,children:({stateForMethod:r})=>(0,e.jsx)("div",{children:(0,e.jsx)("button",{disabled:r("POST")!=="idle",formMethod:"POST",type:"submit",children:r("POST")!=="idle"?"Creating":"Create"})})})}function w({addresses:t,defaultAddress:r}){return(0,e.jsxs)("div",{children:[(0,e.jsx)("legend",{children:"Existing addresses"}),t.nodes.map(s=>(0,e.jsx)(p,{addressId:s.id,address:s,defaultAddress:r,children:({stateForMethod:a})=>(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{disabled:a("PUT")!=="idle",formMethod:"PUT",type:"submit",children:a("PUT")!=="idle"?"Saving":"Save"}),(0,e.jsx)("button",{disabled:a("DELETE")!=="idle",formMethod:"DELETE",type:"submit",children:a("DELETE")!=="idle"?"Deleting":"Delete"})]})},s.id))]})}function p({addressId:t,address:r,defaultAddress:s,children:a}){let{state:f,formMethod:h}=n(),d=u()?.error?.[t],A=s?.id===t;return(0,e.jsx)(l,{id:t,children:(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("input",{type:"hidden",name:"addressId",defaultValue:t}),(0,e.jsx)("label",{htmlFor:"firstName",children:"First name*"}),(0,e.jsx)("input",{"aria-label":"First name",autoComplete:"given-name",defaultValue:r?.firstName??"",id:"firstName",name:"firstName",placeholder:"First name",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"lastName",children:"Last name*"}),(0,e.jsx)("input",{"aria-label":"Last name",autoComplete:"family-name",defaultValue:r?.lastName??"",id:"lastName",name:"lastName",placeholder:"Last name",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"company",children:"Company"}),(0,e.jsx)("input",{"aria-label":"Company",autoComplete:"organization",defaultValue:r?.company??"",id:"company",name:"company",placeholder:"Company",type:"text"}),(0,e.jsx)("label",{htmlFor:"address1",children:"Address line*"}),(0,e.jsx)("input",{"aria-label":"Address line 1",autoComplete:"address-line1",defaultValue:r?.address1??"",id:"address1",name:"address1",placeholder:"Address line 1*",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"address2",children:"Address line 2"}),(0,e.jsx)("input",{"aria-label":"Address line 2",autoComplete:"address-line2",defaultValue:r?.address2??"",id:"address2",name:"address2",placeholder:"Address line 2",type:"text"}),(0,e.jsx)("label",{htmlFor:"city",children:"City*"}),(0,e.jsx)("input",{"aria-label":"City",autoComplete:"address-level2",defaultValue:r?.city??"",id:"city",name:"city",placeholder:"City",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"zoneCode",children:"State / Province*"}),(0,e.jsx)("input",{"aria-label":"State/Province",autoComplete:"address-level1",defaultValue:r?.zoneCode??"",id:"zoneCode",name:"zoneCode",placeholder:"State / Province",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"zip",children:"Zip / Postal Code*"}),(0,e.jsx)("input",{"aria-label":"Zip",autoComplete:"postal-code",defaultValue:r?.zip??"",id:"zip",name:"zip",placeholder:"Zip / Postal Code",required:!0,type:"text"}),(0,e.jsx)("label",{htmlFor:"territoryCode",children:"Country Code*"}),(0,e.jsx)("input",{"aria-label":"territoryCode",autoComplete:"country",defaultValue:r?.territoryCode??"",id:"territoryCode",name:"territoryCode",placeholder:"Country",required:!0,type:"text",maxLength:2}),(0,e.jsx)("label",{htmlFor:"phoneNumber",children:"Phone"}),(0,e.jsx)("input",{"aria-label":"Phone Number",autoComplete:"tel",defaultValue:r?.phoneNumber??"",id:"phoneNumber",name:"phoneNumber",placeholder:"+16135551111",pattern:"^\\+?[1-9]\\d{3,14}$",type:"tel"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("input",{defaultChecked:A,id:"defaultAddress",name:"defaultAddress",type:"checkbox"}),(0,e.jsx)("label",{htmlFor:"defaultAddress",children:"Set as default address"})]}),d?(0,e.jsx)("p",{children:(0,e.jsx)("mark",{children:(0,e.jsx)("small",{children:d})})}):(0,e.jsx)("br",{}),a({stateForMethod:C=>h===C?f:"idle"})]})})}export{c as default,g as meta};

